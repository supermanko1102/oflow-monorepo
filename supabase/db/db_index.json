[
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "conversations_pkey",
    "indexdef": "CREATE UNIQUE INDEX conversations_pkey ON public.conversations USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_last_message",
    "indexdef": "CREATE INDEX idx_conversations_last_message ON public.conversations USING btree (last_message_at DESC)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_line_user_id",
    "indexdef": "CREATE INDEX idx_conversations_line_user_id ON public.conversations USING btree (line_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_order_id",
    "indexdef": "CREATE INDEX idx_conversations_order_id ON public.conversations USING btree (order_id)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_status",
    "indexdef": "CREATE INDEX idx_conversations_status ON public.conversations USING btree (status)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_team_id",
    "indexdef": "CREATE INDEX idx_conversations_team_id ON public.conversations USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "idx_conversations_turn_count",
    "indexdef": "CREATE INDEX idx_conversations_turn_count ON public.conversations USING btree (turn_count)"
  },
  {
    "schemaname": "public",
    "tablename": "conversations",
    "indexname": "unique_active_conversation",
    "indexdef": "CREATE UNIQUE INDEX unique_active_conversation ON public.conversations USING btree (team_id, line_user_id, status)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "customers_pkey",
    "indexdef": "CREATE UNIQUE INDEX customers_pkey ON public.customers USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "customers_team_phone_unique",
    "indexdef": "CREATE UNIQUE INDEX customers_team_phone_unique ON public.customers USING btree (team_id, phone)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "idx_customers_line_user_id",
    "indexdef": "CREATE INDEX idx_customers_line_user_id ON public.customers USING btree (line_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "idx_customers_phone",
    "indexdef": "CREATE INDEX idx_customers_phone ON public.customers USING btree (phone)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "idx_customers_team_id",
    "indexdef": "CREATE INDEX idx_customers_team_id ON public.customers USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "customers",
    "indexname": "idx_customers_team_phone",
    "indexdef": "CREATE UNIQUE INDEX idx_customers_team_phone ON public.customers USING btree (team_id, phone) WHERE (phone IS NOT NULL)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_ai_parsed",
    "indexdef": "CREATE INDEX idx_line_messages_ai_parsed ON public.line_messages USING btree (ai_parsed) WHERE (ai_parsed = false)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_conversation",
    "indexdef": "CREATE INDEX idx_line_messages_conversation ON public.line_messages USING btree (conversation_id, created_at DESC)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_created_at",
    "indexdef": "CREATE INDEX idx_line_messages_created_at ON public.line_messages USING btree (created_at DESC)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_line_user_id",
    "indexdef": "CREATE INDEX idx_line_messages_line_user_id ON public.line_messages USING btree (line_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_role",
    "indexdef": "CREATE INDEX idx_line_messages_role ON public.line_messages USING btree (role)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "idx_line_messages_team_id",
    "indexdef": "CREATE INDEX idx_line_messages_team_id ON public.line_messages USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "line_messages_line_message_id_key",
    "indexdef": "CREATE UNIQUE INDEX line_messages_line_message_id_key ON public.line_messages USING btree (line_message_id)"
  },
  {
    "schemaname": "public",
    "tablename": "line_messages",
    "indexname": "line_messages_pkey",
    "indexdef": "CREATE UNIQUE INDEX line_messages_pkey ON public.line_messages USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_completed_payment",
    "indexdef": "CREATE INDEX idx_orders_completed_payment ON public.orders USING btree (team_id, status, payment_method, pickup_date) WHERE (status = 'completed'::text)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_conversation_id",
    "indexdef": "CREATE INDEX idx_orders_conversation_id ON public.orders USING btree (conversation_id)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_created_at",
    "indexdef": "CREATE INDEX idx_orders_created_at ON public.orders USING btree (created_at DESC)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_created_by",
    "indexdef": "CREATE INDEX idx_orders_created_by ON public.orders USING btree (created_by)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_customer_id",
    "indexdef": "CREATE INDEX idx_orders_customer_id ON public.orders USING btree (customer_id)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_delivery_method",
    "indexdef": "CREATE INDEX idx_orders_delivery_method ON public.orders USING btree (delivery_method)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_paid_at",
    "indexdef": "CREATE INDEX idx_orders_paid_at ON public.orders USING btree (paid_at) WHERE (paid_at IS NOT NULL)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_payment_method",
    "indexdef": "CREATE INDEX idx_orders_payment_method ON public.orders USING btree (payment_method) WHERE (payment_method IS NOT NULL)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_pickup_date",
    "indexdef": "CREATE INDEX idx_orders_pickup_date ON public.orders USING btree (pickup_date)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_pickup_type",
    "indexdef": "CREATE INDEX idx_orders_pickup_type ON public.orders USING btree (pickup_type) WHERE (pickup_type IS NOT NULL)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_status",
    "indexdef": "CREATE INDEX idx_orders_status ON public.orders USING btree (status)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_team_delivery",
    "indexdef": "CREATE INDEX idx_orders_team_delivery ON public.orders USING btree (team_id, delivery_method)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_team_id",
    "indexdef": "CREATE INDEX idx_orders_team_id ON public.orders USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "idx_orders_team_status_pickup",
    "indexdef": "CREATE INDEX idx_orders_team_status_pickup ON public.orders USING btree (team_id, status, pickup_date)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "orders_order_number_key",
    "indexdef": "CREATE UNIQUE INDEX orders_order_number_key ON public.orders USING btree (order_number)"
  },
  {
    "schemaname": "public",
    "tablename": "orders",
    "indexname": "orders_pkey",
    "indexdef": "CREATE UNIQUE INDEX orders_pkey ON public.orders USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_category",
    "indexdef": "CREATE INDEX idx_products_category ON public.products USING btree (category)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_is_available",
    "indexdef": "CREATE INDEX idx_products_is_available ON public.products USING btree (is_available)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_team_available",
    "indexdef": "CREATE INDEX idx_products_team_available ON public.products USING btree (team_id, is_available)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_team_available_only",
    "indexdef": "CREATE INDEX idx_products_team_available_only ON public.products USING btree (team_id, category, name) WHERE (is_available = true)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_team_category",
    "indexdef": "CREATE INDEX idx_products_team_category ON public.products USING btree (team_id, category)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_team_id",
    "indexdef": "CREATE INDEX idx_products_team_id ON public.products USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "idx_products_team_sort",
    "indexdef": "CREATE INDEX idx_products_team_sort ON public.products USING btree (team_id, sort_order)"
  },
  {
    "schemaname": "public",
    "tablename": "products",
    "indexname": "products_pkey",
    "indexdef": "CREATE UNIQUE INDEX products_pkey ON public.products USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "reminders",
    "indexname": "idx_reminders_order_id",
    "indexdef": "CREATE INDEX idx_reminders_order_id ON public.reminders USING btree (order_id)"
  },
  {
    "schemaname": "public",
    "tablename": "reminders",
    "indexname": "idx_reminders_sent",
    "indexdef": "CREATE INDEX idx_reminders_sent ON public.reminders USING btree (sent, remind_time) WHERE (sent = false)"
  },
  {
    "schemaname": "public",
    "tablename": "reminders",
    "indexname": "idx_reminders_team_id",
    "indexdef": "CREATE INDEX idx_reminders_team_id ON public.reminders USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "reminders",
    "indexname": "reminders_pkey",
    "indexdef": "CREATE UNIQUE INDEX reminders_pkey ON public.reminders USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "subscription_transactions",
    "indexname": "idx_subscription_transactions_event_type",
    "indexdef": "CREATE INDEX idx_subscription_transactions_event_type ON public.subscription_transactions USING btree (revenuecat_event_type)"
  },
  {
    "schemaname": "public",
    "tablename": "subscription_transactions",
    "indexname": "idx_subscription_transactions_purchased_at",
    "indexdef": "CREATE INDEX idx_subscription_transactions_purchased_at ON public.subscription_transactions USING btree (purchased_at DESC)"
  },
  {
    "schemaname": "public",
    "tablename": "subscription_transactions",
    "indexname": "idx_subscription_transactions_team_id",
    "indexdef": "CREATE INDEX idx_subscription_transactions_team_id ON public.subscription_transactions USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "subscription_transactions",
    "indexname": "subscription_transactions_pkey",
    "indexdef": "CREATE UNIQUE INDEX subscription_transactions_pkey ON public.subscription_transactions USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "subscription_transactions",
    "indexname": "subscription_transactions_revenuecat_transaction_id_key",
    "indexdef": "CREATE UNIQUE INDEX subscription_transactions_revenuecat_transaction_id_key ON public.subscription_transactions USING btree (revenuecat_transaction_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_invites",
    "indexname": "idx_team_invites_code",
    "indexdef": "CREATE INDEX idx_team_invites_code ON public.team_invites USING btree (invite_code)"
  },
  {
    "schemaname": "public",
    "tablename": "team_invites",
    "indexname": "idx_team_invites_team_id",
    "indexdef": "CREATE INDEX idx_team_invites_team_id ON public.team_invites USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_invites",
    "indexname": "team_invites_invite_code_key",
    "indexdef": "CREATE UNIQUE INDEX team_invites_invite_code_key ON public.team_invites USING btree (invite_code)"
  },
  {
    "schemaname": "public",
    "tablename": "team_invites",
    "indexname": "team_invites_pkey",
    "indexdef": "CREATE UNIQUE INDEX team_invites_pkey ON public.team_invites USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "indexname": "idx_team_members_role",
    "indexdef": "CREATE INDEX idx_team_members_role ON public.team_members USING btree (role)"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "indexname": "idx_team_members_team_id",
    "indexdef": "CREATE INDEX idx_team_members_team_id ON public.team_members USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "indexname": "idx_team_members_user_id",
    "indexdef": "CREATE INDEX idx_team_members_user_id ON public.team_members USING btree (user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "indexname": "team_members_pkey",
    "indexdef": "CREATE UNIQUE INDEX team_members_pkey ON public.team_members USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_members",
    "indexname": "team_members_team_id_user_id_key",
    "indexdef": "CREATE UNIQUE INDEX team_members_team_id_user_id_key ON public.team_members USING btree (team_id, user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_settings",
    "indexname": "idx_team_settings_team_id",
    "indexdef": "CREATE INDEX idx_team_settings_team_id ON public.team_settings USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_settings",
    "indexname": "team_settings_pkey",
    "indexdef": "CREATE UNIQUE INDEX team_settings_pkey ON public.team_settings USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "team_settings",
    "indexname": "team_settings_team_id_key",
    "indexdef": "CREATE UNIQUE INDEX team_settings_team_id_key ON public.team_settings USING btree (team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_business_type",
    "indexdef": "CREATE INDEX idx_teams_business_type ON public.teams USING btree (business_type)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_deleted_at",
    "indexdef": "CREATE INDEX idx_teams_deleted_at ON public.teams USING btree (deleted_at)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_line_bot_user_id",
    "indexdef": "CREATE INDEX idx_teams_line_bot_user_id ON public.teams USING btree (line_bot_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_line_channel_id",
    "indexdef": "CREATE INDEX idx_teams_line_channel_id ON public.teams USING btree (line_channel_id)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_slug",
    "indexdef": "CREATE INDEX idx_teams_slug ON public.teams USING btree (slug)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "idx_teams_subscription_status",
    "indexdef": "CREATE INDEX idx_teams_subscription_status ON public.teams USING btree (subscription_status)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "teams_line_channel_id_key",
    "indexdef": "CREATE UNIQUE INDEX teams_line_channel_id_key ON public.teams USING btree (line_channel_id)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "teams_pkey",
    "indexdef": "CREATE UNIQUE INDEX teams_pkey ON public.teams USING btree (id)"
  },
  {
    "schemaname": "public",
    "tablename": "teams",
    "indexname": "teams_slug_key",
    "indexdef": "CREATE UNIQUE INDEX teams_slug_key ON public.teams USING btree (slug)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_apple_user_id",
    "indexdef": "CREATE INDEX idx_users_apple_user_id ON public.users USING btree (apple_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_auth_provider",
    "indexdef": "CREATE INDEX idx_users_auth_provider ON public.users USING btree (auth_provider)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_auth_user_id",
    "indexdef": "CREATE UNIQUE INDEX idx_users_auth_user_id ON public.users USING btree (auth_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_current_team_id",
    "indexdef": "CREATE INDEX idx_users_current_team_id ON public.users USING btree (current_team_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_google_user_id",
    "indexdef": "CREATE INDEX idx_users_google_user_id ON public.users USING btree (google_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "idx_users_line_user_id",
    "indexdef": "CREATE INDEX idx_users_line_user_id ON public.users USING btree (line_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "users_apple_user_id_key",
    "indexdef": "CREATE UNIQUE INDEX users_apple_user_id_key ON public.users USING btree (apple_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "users_google_user_id_key",
    "indexdef": "CREATE UNIQUE INDEX users_google_user_id_key ON public.users USING btree (google_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "users_line_user_id_key",
    "indexdef": "CREATE UNIQUE INDEX users_line_user_id_key ON public.users USING btree (line_user_id)"
  },
  {
    "schemaname": "public",
    "tablename": "users",
    "indexname": "users_pkey",
    "indexdef": "CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)"
  }
]
